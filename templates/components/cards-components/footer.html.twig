{#
    #: optionnal,
    *: required,
    |: default,
    @: generic data name (i.e. type of data which must be found here),
    [int..int]: array indexes ([...] if no precise length defined)

    footer#: array
        [...](item#) object
            @item_type*: object (length defined by item-type) | 'members'
                ...@item_data#: any (object, array, string ...) | {'icon': 'person-icon', 'count': 1}
        (e.g. [{'counter' : {'icon': @icon_name, 'count': @int }}])
        (other example [{'avatars' : [...@image_urls]])
#}

{# set default footer (can be useful e.g. for stations that have just been created #}
{% if footer is empty %}
    {% set footer = [{'counter': {'icon': 'person-icon', 'count': 1}}] %}
{% endif  %}

{% for footer_item in footer %}
    {% set footer_item_type = (footer_item|keys)[0] %}

    <div class="card-footer-item">
        {% if footer_item_type == 'counter' %}

            <div class="members-number {{ footer_item.counter.icon|default('person-icon') }}">{{ footer_item.counter.count|default(1) }}</div>

        {% elseif footer_item_type == 'avatars' %}

            {% for image in footer_item.avatars|slice(0,4) %}
                <div class="species-sm" style="background-image: url({{ image }})"></div>
            {% endfor %}

            {% if footer_item.avatars|length > 4 %}
                {% set more_avatars = footer_item.avatars|length - 4 %}
                <div class="species-sm more-species {{ more_avatars > 9 ? 'tens' : (more_avatars > 99 ? 'hundreds') }}">+{{ more_avatars }}</div>
            {% endif %}

        {% endif %}
    </div>

{% endfor %}
